<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Banking App</title>
    <link rel="icon" type="image/x-icon" href="bank.png" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- css -->
    <link rel="stylesheet" type="text/css" href="styles.css" />

    <!-- don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <!-- we will put our teact component inside this div -->
    <div id="root"></div>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <!-- load react -->
    <script
      src="https://unpkg.com/react/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-router@5.2.1/umd/react-router.min.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-router-dom@5.2.1/umd/react-router-dom.min.js"
      crossorigin
    ></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script
      crossorigin
      src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"
    ></script>
    <script
      crossorigin
      src="https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"
    ></script>

    <!-- load our react component. -->
    <script src="context.js" defer type="text/babel"></script>
    <script src="navbar.js" defer type="text/babel"></script>

    <script src="createaccount.js" defer type="text/babel"></script>
    <script src="login.js" defer type="text/babel"></script>
    <script src="logout.js" defer type="text/babel"></script>
    <script src="deposit.js" defer type="text/babel"></script>
    <script src="withdraw.js" defer type="text/babel"></script>
    <script src="transaction.js" defer type="text/babel"></script>
    <!-- <script src="transactions.js" defer type="text/babel"></script> -->
    <script src="balance.js" defer type="text/babel"></script>
    <script src="alldata.js" defer type="text/babel"></script>
    <script src="home.js" defer type="text/babel"></script>
    <script src="footer.js" defer type="text/babel"></script>
    <script src="index.js" defer type="text/babel"></script>

    <script>
      // document.getElementById("depositlink").style.display = "none";
    </script>
    <script defer crossorigin type="module">
      // Import the functions you need from the SDKs you need

     
      const firebaseConfig = {
        apiKey: "AIzaSyDKtcFVqBbtCOUU_Gr5XLTdEL-1dakp0bw",
        authDomain: "kienaan-abdifullstackbankapp.firebaseapp.com",
        projectId: "kienaan-abdifullstackbankapp",
        storageBucket: "kienaan-abdifullstackbankapp.appspot.com",
        messagingSenderId: "604029227354",
        appId: "1:604029227354:web:ab6b3a49589945a8e26363",
        measurementId: "G-5686ELDFYE"
      };

      // Initialize Firebase
      const app = firebase.initializeApp(firebaseConfig);

      firebase.auth().signOut();

      firebase.auth().onAuthStateChanged((firebaseUser) => {
        if (firebaseUser) {
          console.log("Firebase Auth Logged-In: " + firebaseUser.email);

          document.getElementById("loggedinuser").innerText =
            firebaseUser.email;
          document.getElementById("activeuser").innerText = firebaseUser.username;
          document.getElementById("depositlink").className = "nav-item";
          document.getElementById("withdrawlink").className = "nav-item";
          document.getElementById("balancelink").className = "nav-item";
          document.getElementById("logoutlink").className = "nav-item";
          document.getElementById("transactionslink").className = "nav-item";
          document.getElementById("alldatalink").className = "nav-item d-none";
          document.getElementById("createaccountlink").className =
            "nav-item d-none";
          document.getElementById("loginlink").className = "nav-item d-none";
          
        } else {
          console.log("Firebase Auth Logged-Out");
          document.getElementById("loggedinuser").innerText =
            "No user is signed in";
          document.getElementById("activeuser").innerText = "No user";
          document.getElementById("depositlink").className = "nav-item d-none";
          document.getElementById("withdrawlink").className = "nav-item d-none";
          document.getElementById("balancelink").className = "nav-item d-none";
          document.getElementById("logoutlink").className = "nav-item d-none";
          document.getElementById("transactionslink").className = "nav-item d-none";
          document.getElementById("alldatalink").className = "nav-item d-none";
          document.getElementById("createaccountlink").className =
            "nav-item nav-link me-auto";
          document.getElementById("loginlink").className =
            "nav-item nav-link me-auto";
        }
      });
    </script>
  </body>
</html>
